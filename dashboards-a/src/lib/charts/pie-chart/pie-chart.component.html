<ng-container *ngTemplateOutlet="dataContainer"> </ng-container>
<ng-template #dataContainer>
  @if (data != null) {
    @if (isLoading) {
      <kendo-progressbar
        [indeterminate]="true"
      ></kendo-progressbar>
    }
    @if (!isLoading && data) {
      <div
        class="h-full w-full"
        >
        <kendo-chart class="w-full h-full">
          <kendo-chart-legend position="bottom"></kendo-chart-legend>
          <kendo-chart-series>
            <kendo-chart-series-item
              type="pie"
              [data]="data.data"
              field="value"
              categoryField="category"
              [labels]="{ visible: true }">
              <kendo-chart-series-item-labels>
                <ng-template
                  let-value="value"
                  let-category="category"
                  let-dataItem="dataItem">
                  {{ category }} : {{ value }} ({{ dataItem.percent }}%)
                </ng-template>
              </kendo-chart-series-item-labels>
            </kendo-chart-series-item>
          </kendo-chart-series>
        </kendo-chart>
      </div>
    }
  }
  @if (data == null) {
    @if (data == null) {
      <p
        class="valeur-viz">
        N/A
      </p>
    }
  }
</ng-template>
