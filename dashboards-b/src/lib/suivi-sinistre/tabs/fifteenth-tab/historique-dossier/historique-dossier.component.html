@if ({ val: classerId$ | async }; as val) {
  <kendo-grid
    [data]="delaisTraitement$ | async">
    <kendo-grid-column
      [field]="'versionDossier'"
      [title]="'Passage'"
      [width]="65"></kendo-grid-column>
    <kendo-grid-column
      [field]="'dateDeReception'"
      [title]="'Date arrivage lot souscripteur'"
      [width]="180">
      <ng-template
        kendoGridCellTemplate
        let-dataItem>
        {{ dataItem.dateDeReception | dateLong }}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column
      [field]="'typeDeSoin'"
      [title]="'Type de soin'"
      [width]="120"></kendo-grid-column>
    <kendo-grid-column
      [field]="'typeDeDepot'"
      [title]="'Type de dépôt'"
      [width]="180"></kendo-grid-column>
    @if (!isCompany()) {
      <kendo-grid-column
        [field]="'typeRetour'"
        [title]="'Type de retour cie'"
        [width]="150"></kendo-grid-column>
    }
    @if (!isSouscripteur) {
      <kendo-grid-column
        [title]="isCompany() ? 'Délai de saisie' : 'Délai de dépôt'"
        [width]="120">
        <ng-template
          kendoGridCellTemplate
          let-dataItem>
          {{ dataItem.delaiDepotString ?? 'N/A' }}
          <button
            kendoButton
            [fillMode]="'flat'"
            [themeColor]="'primary'"
            [title]="
          isCompany()
            ? ('- Date Réception  : ' +
              (dataItem.dateDeReception ? (dataItem.dateDeReception | kendoDate: 'dd/MM/yyyy HH:mm') : '-') +
              '\n- Date Fin De Saisie: ' +
              (dataItem.dateFinDeSaisie ? (dataItem.dateFinDeSaisie | kendoDate: 'dd/MM/yyyy HH:mm') : '-'))
            : ('- Date Réception Souscripteur : ' +
              (dataItem.dateDeReception ? (dataItem.dateDeReception | kendoDate: 'dd/MM/yyyy HH:mm') : '-') +
              '\n- Date Envoi Cie : ' +
              (dataItem.dateDepotCourrier ? (dataItem.dateDepotCourrier | kendoDate: 'dd/MM/yyyy HH:mm') : '-'))
        "
            [svgIcon]="infoSolidIcon"
            class="float-right"></button>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column
        [title]="isCompany() ? 'Délai de traitement' : 'Délai de retour'"
        [width]="120">
        <ng-template
          kendoGridCellTemplate
          let-dataItem>
          {{ (isCompany() ? dataItem.delaiTraitementString : dataItem.delaiRetourString) ?? 'N/A' }}
          <button
            kendoButton
            [fillMode]="'flat'"
            [themeColor]="'primary'"
            [title]="
          isCompany()
            ? '- Date Réception  : ' +
              (dataItem.dateDeReception ? (dataItem.dateDeReception | kendoDate: 'dd/MM/yyyy HH:mm') : '-') +
              '\n- Date Prise Décision: ' +
              (dataItem.dateDecision ? (dataItem.dateDecision | kendoDate: 'dd/MM/yyyy HH:mm') : '-')
            : '- Date Réception Cie : ' +
              (dataItem.dateReceptionCie ? (dataItem.dateReceptionCie | kendoDate: 'dd/MM/yyyy HH:mm') : '-') +
              '\n- Date Cloture Reponse Cie : ' +
              (dataItem.dateClotureReponseCie ? (dataItem.dateClotureReponseCie | kendoDate: 'dd/MM/yyyy HH:mm') : '-')
        "
            [svgIcon]="infoSolidIcon"
            class="float-right"></button>
        </ng-template>
      </kendo-grid-column>
    }
    <kendo-grid-column
      [title]="isCompany() ? 'Délai de règlement' : 'Délai de traitement'"
      [width]="120">
      <ng-template
        kendoGridCellTemplate
        let-dataItem>
        {{ (isCompany() ? dataItem.delaiReglementString : dataItem.delaiTraitementString) ?? 'N/A' }}
        <button
          kendoButton
          [fillMode]="'flat'"
          [themeColor]="'primary'"
          [title]="getTitle(dataItem, isCompany())"
          [svgIcon]="infoSolidIcon"
          class="float-right"></button>
      </ng-template>
    </kendo-grid-column>
  </kendo-grid>
}
